<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>逐帧动画</title>
	<script src="http://libs.baidu.com/jquery/2.1.1/jquery.min.js"></script>
</head>
<style>
    
   div{
    width: 100%;
    height: 100%;
   }
</style>
<body>
  <div id="div1" >
    <p>lalalalall</p>
    <p>lalalalall</p>
    <p>lalalalall</p>
    <p>lalalalall</p>
    <p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p><p>lalalalall</p>
  </div>
	<script>
         // 防止过分拉动
        preventMove: function(e) {
            // 高位表示向上滚动, 底位表示向下滚动: 1容许 0禁止
            var status = '11', 
                e = e || window.event, // 使用 || 运算取得event对象
                ele = this,
                currentY = e.touches[0].clientY,
                startY = startMoveYmap[ele.id],
                scrollTop = ele.scrollTop,
                offsetHeight = ele.offsetHeight,
                scrollHeight = ele.scrollHeight;
 
            if (scrollTop === 0) {
                // 如果内容小于容器则同时禁止上下滚动
                status = offsetHeight >= scrollHeight ? '00' : '01';
            } else if (scrollTop + offsetHeight >= scrollHeight) {
                // 已经滚到底部了只能向上滚动
                status = '10';
            }
            if (status != '11') {
                // 判断当前的滚动方向
                var direction = currentY - startY > 0 ? '10' : '01';
                // console.log(direction);
                // 操作方向和当前允许状态求与运算，运算结果为0，就说明不允许该方向滚动，则禁止默认事件，阻止滚动
                if (!(parseInt(status, 2) & parseInt(direction, 2))) {
                    e.preventDefault();
                    e.stopPropagation();
                    return;
                }
            }
        },
</script>

</body>
</html>